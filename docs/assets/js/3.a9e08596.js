(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{512:function(e,t,i){"use strict";var a=i(279),n=i(11),s=i(26),l=i(35),r=i(280),o=i(281);a("match",1,(function(e,t,i){return[function(t){var i=l(this),a=null==t?void 0:t[e];return void 0!==a?a.call(t,i):new RegExp(t)[e](String(i))},function(e){var a=i(t,e,this);if(a.done)return a.value;var l=n(e),c=String(this);if(!l.global)return o(l,c);var u=l.unicode;l.lastIndex=0;for(var v,h=[],d=0;null!==(v=o(l,c));){var f=String(v[0]);h[d]=f,""===f&&(l.lastIndex=r(c,s(l.lastIndex),u)),d++}return 0===d?null:h}]}))},533:function(e,t,i){},534:function(e,t,i){},565:function(e,t,i){"use strict";i(533)},566:function(e,t,i){"use strict";i(534)},572:function(e,t,i){"use strict";i.r(t);var a=i(274),n=i(273),s=i(45),l=i(103),r=(i(13),i(167),i(168),i(109),i(512),i(71),function(){function e(t,i){Object(s.a)(this,e),this.data="",this.container=i,this.player=null}return Object(l.a)(e,[{key:"load",value:function(){}},{key:"init",value:function(){}},{key:"create",value:function(){}},{key:"destroy",value:function(){}},{key:"changeSize",value:function(){}}]),e}()),o=function(e){Object(a.a)(i,e);var t=Object(n.a)(i);function i(e,a){var n;return Object(s.a)(this,i),(n=t.call(this,e,a)).init(e),n}return Object(l.a)(i,[{key:"load",value:function(e){var t=this;return new Promise((function(i,a){var n=new FileReader;n.onload=function(e){t.data=e.target.result,i(t.data)},n.readAsDataURL(e)}))}},{key:"init",value:function(e){var t=this;this.load(e).then((function(){t.create()}))}},{key:"create",value:function(){var e=this;this.player=new SVGA.Player(this.container),(new SVGA.Parser).load(this.data,(function(t){e.player.setVideoItem(t),e.player.startAnimation()}))}},{key:"destroy",value:function(){this.player&&(this.player.stopAnimation(),this.container.children.forEach((function(e){e.remove()})))}},{key:"changeSize",value:function(){this.destroy(),this.create()}}]),i}(r),c=function(e){Object(a.a)(i,e);var t=Object(n.a)(i);function i(e,a){var n;return Object(s.a)(this,i),(n=t.call(this,e,a)).data={},n.init(e),n}return Object(l.a)(i,[{key:"load",value:function(e){var t=this;return new Promise((function(i,a){var n=new FileReader;n.onload=function(e){t.data=JSON.parse(e.target.result),i(t.data)},n.readAsText(e)}))}},{key:"init",value:function(e){var t=this;this.load(e).then((function(){t.create()}))}},{key:"create",value:function(){this.player=lottie.loadAnimation({container:this.container,renderer:"canvas",loop:!0,autoplay:!0,animationData:this.data})}},{key:"destroy",value:function(){this.player&&(this.player.stop(),this.player.destroy())}},{key:"changeSize",value:function(){this.destroy(),this.create()}}]),i}(r),u={name:"Aview",data:function(){return{color:"#ffffff",fromShow:!1,viewer:1,$player:null,size:{width:200,height:200},animationShow:!1,file:{}}},mounted:function(){},computed:{fileSize:function(){return this.file.size?Math.ceil(this.file.size/1024)+"kb":""}},methods:{handleBeforeUpload:function(e){var t=e.name,i=this.$refs.viewer;return this.file.name=e.name,this.$set(this.file,"size",e.size),this.$player&&(this.$player.destroy(),this.animationShow=!1),t.match(/.svga/)&&(window.player=this.$player=new o(e,i),this.animationShow=!0),t.match(/.json/)&&(window.player=this.$player=new c(e,i),this.animationShow=!0),!1}}},v=(i(565),i(566),i(70)),h=Object(v.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"a-view"},[i("div",{staticClass:"from"},[i("div",{staticClass:"lable"},[i("span",[e._v("屏幕方向：")]),e._v(" "),i("el-radio",{attrs:{label:1},model:{value:e.viewer,callback:function(t){e.viewer=t},expression:"viewer"}},[e._v("横屏")]),e._v(" "),i("el-radio",{attrs:{label:2},model:{value:e.viewer,callback:function(t){e.viewer=t},expression:"viewer"}},[e._v("竖屏")])],1),e._v(" "),i("div",{staticClass:"lable"},[i("span",[e._v("动画尺寸：")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{size:"mini"},model:{value:e.size.width,callback:function(t){e.$set(e.size,"width",t)},expression:"size.width"}},[i("template",{slot:"suffix"},[e._v("px")])],2),e._v(" "),i("span",[e._v("  x  ")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{size:"mini"},model:{value:e.size.height,callback:function(t){e.$set(e.size,"height",t)},expression:"size.height"}},[i("template",{slot:"suffix"},[e._v("px")])],2)],1),e._v(" "),i("div",{staticClass:"lable"},[i("span",[e._v("背景颜色：")]),e._v(" "),i("el-color-picker",{staticClass:"viewer-color-picker",attrs:{size:"mini","show-alpha":""},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),e._v(" "),!0===e.animationShow?i("div",{staticClass:"lable"},[i("el-upload",{attrs:{action:"",multiple:!1,"show-file-list":!1,"before-upload":e.handleBeforeUpload}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("变更动画")])],1)],1):e._e()]),e._v(" "),i("div",{staticClass:"lable"},[i("span",[e._v("文件信息：")]),e._v(" "),i("span",[e._v(e._s(e.file.name))]),e._v("\n          \n        "),i("span",[e._v(e._s(e.fileSize))])]),e._v(" "),i("div",{class:["viewer-box",{"is-mobile":2===e.viewer}]},[i("div",{staticClass:"viewer-screen",style:{backgroundColor:e.color}},[i("div",{ref:"viewer",staticClass:"viewer",style:{width:e.size.width+"px",height:e.size.height+"px"},attrs:{id:"demoCanvas"}})]),e._v(" "),!1===e.animationShow?i("el-upload",{staticClass:"viewer-upload",attrs:{drag:"",action:"",multiple:!1,"show-file-list":!1,"before-upload":e.handleBeforeUpload}},[i("i",{staticClass:"el-icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("\n                将文件拖到此处，或"),i("em",[e._v("点击上传")])])]):e._e()],1)])}),[],!1,null,"6ddbf006",null);t.default=h.exports}}]);